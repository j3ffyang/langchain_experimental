{"id":"f8bd9713-156f-430c-b614-ccc9d196d87d","data":{"nodes":[{"id":"SupabaseVectorStore-fJXrJ","type":"genericNode","position":{"x":520.4449641125019,"y":173.95613870027492},"data":{"type":"SupabaseVectorStore","node":{"template":{"documents":{"type":"Document","required":true,"placeholder":"","list":true,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"documents","display_name":"Documents","advanced":false,"dynamic":false,"info":"","title_case":true},"embedding":{"type":"Embeddings","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"embedding","display_name":"Embedding","advanced":false,"dynamic":false,"info":"","title_case":true},"code":{"type":"code","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"value":"from typing import List, Union\n\nfrom langchain.schema import BaseRetriever\nfrom langchain_community.vectorstores import VectorStore\nfrom langchain_community.vectorstores.supabase import SupabaseVectorStore\nfrom langflow import CustomComponent\nfrom langflow.field_typing import Document, Embeddings, NestedDict\nfrom supabase.client import Client, create_client\n\n\nclass SupabaseComponent(CustomComponent):\n    display_name = \"Supabase\"\n    description = \"Return VectorStore initialized from texts and embeddings.\"\n\n    def build_config(self):\n        return {\n            \"documents\": {\"display_name\": \"Documents\"},\n            \"embedding\": {\"display_name\": \"Embedding\"},\n            \"query_name\": {\"display_name\": \"Query Name\"},\n            \"search_kwargs\": {\"display_name\": \"Search Kwargs\", \"advanced\": True},\n            \"supabase_service_key\": {\"display_name\": \"Supabase Service Key\"},\n            \"supabase_url\": {\"display_name\": \"Supabase URL\"},\n            \"table_name\": {\"display_name\": \"Table Name\", \"advanced\": True},\n        }\n\n    def build(\n        self,\n        embedding: Embeddings,\n        documents: List[Document],\n        query_name: str = \"\",\n        search_kwargs: NestedDict = {},\n        supabase_service_key: str = \"\",\n        supabase_url: str = \"\",\n        table_name: str = \"\",\n    ) -> Union[VectorStore, SupabaseVectorStore, BaseRetriever]:\n        supabase: Client = create_client(supabase_url, supabase_key=supabase_service_key)\n        return SupabaseVectorStore.from_documents(\n            documents=documents,\n            embedding=embedding,\n            query_name=query_name,\n            search_kwargs=search_kwargs,\n            client=supabase,\n            table_name=table_name,\n        )\n","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":false,"dynamic":true,"info":"","title_case":true},"query_name":{"type":"str","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"match_documents","fileTypes":[],"file_path":"","password":false,"name":"query_name","display_name":"Query Name","advanced":false,"dynamic":false,"info":"","title_case":true},"search_kwargs":{"type":"NestedDict","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":{},"fileTypes":[],"file_path":"","password":false,"name":"search_kwargs","display_name":"Search Kwargs","advanced":true,"dynamic":false,"info":"","title_case":true},"supabase_service_key":{"type":"str","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ6YXB4ZGtrZHBiaWhkemtsenlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTU3MTg0OTUsImV4cCI6MjAzMTI5NDQ5NX0.LBvpNXgjn5BngB_-4iB-luYWPn4kIRHlSAmWUeV5XD8","fileTypes":[],"file_path":"","password":false,"name":"supabase_service_key","display_name":"Supabase Service Key","advanced":false,"dynamic":false,"info":"","title_case":true},"supabase_url":{"type":"str","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"https://rzapxdkkdpbihdzklzyp.supabase.co","fileTypes":[],"file_path":"","password":false,"name":"supabase_url","display_name":"Supabase URL","advanced":false,"dynamic":false,"info":"","title_case":true},"table_name":{"type":"str","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"documents","fileTypes":[],"file_path":"","password":false,"name":"table_name","display_name":"Table Name","advanced":false,"dynamic":false,"info":"","title_case":true},"_type":"CustomComponent"},"description":"Return VectorStore initialized from texts and embeddings.","base_classes":["VectorStore","VectorStore","SupabaseVectorStore","BaseRetriever"],"display_name":"Supabase","documentation":"","custom_fields":{"embedding":null,"documents":null,"query_name":null,"search_kwargs":null,"supabase_service_key":null,"supabase_url":null,"table_name":null},"output_types":["VectorStore","SupabaseVectorStore","BaseRetriever"],"field_formatters":{},"beta":true},"id":"SupabaseVectorStore-fJXrJ","description":"Return VectorStore initialized from texts and embeddings.","display_name":"Supabase"},"selected":true,"width":384,"height":773,"positionAbsolute":{"x":520.4449641125019,"y":173.95613870027492},"dragging":true},{"id":"HuggingFaceEmbeddings-c1lXf","type":"genericNode","position":{"x":34.99999999999994,"y":545.6201796772646},"data":{"type":"HuggingFaceEmbeddings","node":{"template":{"cache_folder":{"type":"str","required":false,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","password":false,"name":"cache_folder","display_name":"Cache Folder","advanced":true,"dynamic":false,"info":"","title_case":true},"code":{"type":"code","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"value":"from langflow import CustomComponent\nfrom typing import Optional, Dict\nfrom langchain_community.embeddings.huggingface import HuggingFaceEmbeddings\n\n\nclass HuggingFaceEmbeddingsComponent(CustomComponent):\n    display_name = \"HuggingFaceEmbeddings\"\n    description = \"HuggingFace sentence_transformers embedding models.\"\n    documentation = (\n        \"https://python.langchain.com/docs/modules/data_connection/text_embedding/integrations/sentence_transformers\"\n    )\n\n    def build_config(self):\n        return {\n            \"cache_folder\": {\"display_name\": \"Cache Folder\", \"advanced\": True},\n            \"encode_kwargs\": {\"display_name\": \"Encode Kwargs\", \"advanced\": True, \"field_type\": \"dict\"},\n            \"model_kwargs\": {\"display_name\": \"Model Kwargs\", \"field_type\": \"dict\", \"advanced\": True},\n            \"model_name\": {\"display_name\": \"Model Name\"},\n            \"multi_process\": {\"display_name\": \"Multi Process\", \"advanced\": True},\n        }\n\n    def build(\n        self,\n        cache_folder: Optional[str] = None,\n        encode_kwargs: Optional[Dict] = {},\n        model_kwargs: Optional[Dict] = {},\n        model_name: str = \"sentence-transformers/all-mpnet-base-v2\",\n        multi_process: bool = False,\n    ) -> HuggingFaceEmbeddings:\n        return HuggingFaceEmbeddings(\n            cache_folder=cache_folder,\n            encode_kwargs=encode_kwargs,\n            model_kwargs=model_kwargs,\n            model_name=model_name,\n            multi_process=multi_process,\n        )\n","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":false,"dynamic":true,"info":"","title_case":true},"encode_kwargs":{"type":"dict","required":false,"placeholder":"","list":false,"show":true,"multiline":false,"value":[],"fileTypes":[],"file_path":"","password":false,"name":"encode_kwargs","display_name":"Encode Kwargs","advanced":true,"dynamic":false,"info":"","title_case":true},"model_kwargs":{"type":"dict","required":false,"placeholder":"","list":false,"show":true,"multiline":false,"value":[],"fileTypes":[],"file_path":"","password":false,"name":"model_kwargs","display_name":"Model Kwargs","advanced":true,"dynamic":false,"info":"","title_case":true},"model_name":{"type":"str","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2","fileTypes":[],"file_path":"","password":false,"name":"model_name","display_name":"Model Name","advanced":false,"dynamic":false,"info":"","title_case":true},"multi_process":{"type":"bool","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":false,"fileTypes":[],"file_path":"","password":false,"name":"multi_process","display_name":"Multi Process","advanced":true,"dynamic":false,"info":"","title_case":true},"_type":"CustomComponent"},"description":"HuggingFace sentence_transformers embedding models.","base_classes":["HuggingFaceEmbeddings","Embeddings"],"display_name":"HuggingFaceEmbeddings","documentation":"https://python.langchain.com/docs/modules/data_connection/text_embedding/integrations/sentence_transformers","custom_fields":{"cache_folder":null,"encode_kwargs":null,"model_kwargs":null,"model_name":null,"multi_process":null},"output_types":["HuggingFaceEmbeddings"],"field_formatters":{},"beta":true},"id":"HuggingFaceEmbeddings-c1lXf"},"selected":false,"width":384,"height":395,"positionAbsolute":{"x":34.99999999999994,"y":545.6201796772646},"dragging":false},{"id":"WebBaseLoader-0TPwO","type":"genericNode","position":{"x":34.53096714469683,"y":106.91881685705783},"data":{"type":"WebBaseLoader","node":{"template":{"metadata":{"type":"dict","required":false,"placeholder":"","list":false,"show":true,"multiline":false,"value":[{"":""}],"fileTypes":[],"file_path":"","password":false,"name":"metadata","display_name":"Metadata","advanced":false,"dynamic":false,"info":"","title_case":true},"web_path":{"type":"str","required":true,"placeholder":"","list":false,"show":true,"multiline":false,"value":"https://en.wikisource.org/wiki/Hans_Andersen%27s_Fairy_Tales/The_Emperor%27s_New_Clothes","fileTypes":[],"file_path":"","password":false,"name":"web_path","display_name":"Web Page","advanced":false,"dynamic":false,"info":"","title_case":true},"_type":"WebBaseLoader"},"description":"Load HTML pages using `urllib` and parse them with `BeautifulSoup'.","base_classes":["Document"],"display_name":"WebBaseLoader","documentation":"https://python.langchain.com/docs/modules/data_connection/document_loaders/integrations/web_base","custom_fields":{},"output_types":["Document"],"field_formatters":{},"beta":false},"id":"WebBaseLoader-0TPwO"},"selected":false,"width":384,"height":395,"positionAbsolute":{"x":34.53096714469683,"y":106.91881685705783},"dragging":false}],"edges":[{"source":"HuggingFaceEmbeddings-c1lXf","sourceHandle":"{œbaseClassesœ:[œHuggingFaceEmbeddingsœ,œEmbeddingsœ],œdataTypeœ:œHuggingFaceEmbeddingsœ,œidœ:œHuggingFaceEmbeddings-c1lXfœ}","target":"SupabaseVectorStore-fJXrJ","targetHandle":"{œfieldNameœ:œembeddingœ,œidœ:œSupabaseVectorStore-fJXrJœ,œinputTypesœ:null,œtypeœ:œEmbeddingsœ}","data":{"targetHandle":{"fieldName":"embedding","id":"SupabaseVectorStore-fJXrJ","inputTypes":null,"type":"Embeddings"},"sourceHandle":{"baseClasses":["HuggingFaceEmbeddings","Embeddings"],"dataType":"HuggingFaceEmbeddings","id":"HuggingFaceEmbeddings-c1lXf"}},"style":{"stroke":"#555"},"className":"stroke-gray-900  stroke-connection","animated":false,"id":"reactflow__edge-HuggingFaceEmbeddings-c1lXf{œbaseClassesœ:[œHuggingFaceEmbeddingsœ,œEmbeddingsœ],œdataTypeœ:œHuggingFaceEmbeddingsœ,œidœ:œHuggingFaceEmbeddings-c1lXfœ}-SupabaseVectorStore-fJXrJ{œfieldNameœ:œembeddingœ,œidœ:œSupabaseVectorStore-fJXrJœ,œinputTypesœ:null,œtypeœ:œEmbeddingsœ}"},{"source":"WebBaseLoader-0TPwO","sourceHandle":"{œbaseClassesœ:[œDocumentœ],œdataTypeœ:œWebBaseLoaderœ,œidœ:œWebBaseLoader-0TPwOœ}","target":"SupabaseVectorStore-fJXrJ","targetHandle":"{œfieldNameœ:œdocumentsœ,œidœ:œSupabaseVectorStore-fJXrJœ,œinputTypesœ:null,œtypeœ:œDocumentœ}","data":{"targetHandle":{"fieldName":"documents","id":"SupabaseVectorStore-fJXrJ","inputTypes":null,"type":"Document"},"sourceHandle":{"baseClasses":["Document"],"dataType":"WebBaseLoader","id":"WebBaseLoader-0TPwO"}},"style":{"stroke":"#555"},"className":"stroke-gray-900  stroke-connection","animated":false,"id":"reactflow__edge-WebBaseLoader-0TPwO{œbaseClassesœ:[œDocumentœ],œdataTypeœ:œWebBaseLoaderœ,œidœ:œWebBaseLoader-0TPwOœ}-SupabaseVectorStore-fJXrJ{œfieldNameœ:œdocumentsœ,œidœ:œSupabaseVectorStore-fJXrJœ,œinputTypesœ:null,œtypeœ:œDocumentœ}"}],"viewport":{"x":196.44251819259398,"y":-66.27547388481537,"zoom":0.9904195401804127}},"description":"Flow into the Future of Language.","name":"kb_semantic","last_tested_version":"0.6.19","is_component":false}